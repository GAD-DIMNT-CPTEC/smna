#------------------------------------------------------------------------------#
# EGEON PATH CONFIGURATION — SMG (System for Modeling and Data Assimilation)
#------------------------------------------------------------------------------#
# Version: 3.0.0
# Maintainer: J. G. de Mattos (GDAD/CPTEC/INPE)
# Description:
#   Defines all directory paths and constants required for the SMG runtime on
#   the EGEON cluster. Variables are grouped by component (Global Model, GSI,
#   BLS-DAS, Observations, etc.) and designed for modular expansion.
#------------------------------------------------------------------------------#

#=== General Identifiers ======================================================#
# !DESCRIPTION:
#   Basic identifiers for SMG installation on EGEON.
#   "nome_smg" defines the root project version (without /SMG suffix).
#   Paths derived from these variables must remain consistent across all scripts.

nome_smg     SMNA_v3.0.x      # SMG installation name (version tag)
compiler     intel            # Default compiler
SUBMIT_HOME  /mnt/beegfs/${USER}  # Base submit directory on EGEON

#=== Root Directories =========================================================#
# !DESCRIPTION:
#   Defines source (home), submission (subt), and working (work) roots.
#   home_smg → source tree
#   subt_smg → submitted job tree
#   work_smg → runtime working area (same as subt_smg by default)

home_smg     ${SMG_ROOT}
subt_smg     ${SUBMIT_HOME}/${nome_smg}/SMG
work_smg     ${subt_smg}

#=== General Run Directories ==================================================#

subt_run         ${subt_smg}/datarun
run_smg          ${home_smg}/run
scripts_smg      ${run_smg}/scripts
bam_scripts_smg  ${scripts_smg}/bam_scripts

#=== CPTEC Tree ==============================================================#

home_cptec   ${home_smg}/cptec

#=== Global Model (BAM) ======================================================#

home_bam        ${home_cptec}/bam
home_run_bam    ${home_bam}/run
home_model_bam  ${home_bam}/model
home_pre_bam    ${home_bam}/pre
home_pos_bam    ${home_bam}/pos
home_grh_bam    ${home_bam}/grh

subt_dataout    ${subt_smg}/datainout
subt_bam        ${subt_dataout}/bam
subt_model_bam  ${subt_bam}/model
subt_pre_bam    ${subt_bam}/pre
subt_pos_bam    ${subt_bam}/pos
subt_grh_bam    ${subt_bam}/grh
work_bam        ${subt_bam}

#=== Data Assimilation (GSI) =================================================#

home_gsi            ${home_cptec}/gsi
home_gsi_bin        ${home_gsi}/bin
home_gsi_fix        ${home_gsi}/fix
home_gsi_src        ${home_gsi}/build/src

subt_gsi            ${subt_dataout}/gsi
subt_run_gsi        ${subt_run}/gsi
subt_gsi_datain     ${subt_gsi}/datain
subt_gsi_datain_obs ${subt_gsi_datain}/Obs
subt_gsi_dataout    ${subt_gsi}/dataout

#=== Land Surface Model (BLS-DAS) ============================================#

home_blsdas         ${home_cptec}/blsdas
home_blsdas_src     ${home_blsdas}/src
home_blsdas_lib     ${home_blsdas}/lib
home_blsdas_bin     ${home_blsdas}/bin

subt_blsdas         ${subt_run}/blsdas
subt_blsdas_run     ${subt_blsdas}/run
subt_blsdas_datain  ${subt_blsdas}/datain
subt_blsdas_dataout ${subt_blsdas}/dataout

#=== Observations =============================================================#

home_obs            ${home_cptec}/obs
subt_obs_run        ${subt_run}/obs
subt_obs_datain     ${subt_gsi}/Obs/in
subt_obs_dataout    ${subt_dataout}/obs  # unified output path

#=== Interface (BAM → GSI coupling) ==========================================#

home_sfc     ${home_cptec}/bam2gsi
subt_sfc_run ${subt_run}/interface

#=== Background Directories ==================================================#

subt_bkg_dataout ${subt_gsi}/Bkg
subt_bkg_cptec   ${subt_bkg_dataout}/cptec

#=== Utilities ================================================================#

inctime        ${home_cptec}/bin/inctime
smg_util       ${home_smg}/utils
util_inctime   ${smg_util}/inctime
util_spc2grd   ${smg_util}/spc2grd

#=== Public Resources =========================================================#

public_gdad  /pesq/share/das/public
public_gsi   ${public_gdad}/GSI_NCEP
public_ber   ${public_gdad}/Berror
public_bkg   ${public_gsi}/BKG
public_crtm  ${public_gsi}/CRTM_REL-2.4.0_emc
public_bam   ${public_gdad}/BAM
public_fix   ${public_gsi}/FIX
public_rc    ${public_gsi}/RC

#=== External Data Sources ====================================================#

ncep_ext  /oper/dados/dboper/raw/arch/mod/ncep/gdas
ncep_gfs  /oper/dados/ioper/tempo/NCEP/input

#=== Miscellaneous ============================================================#

dummybasedir ${home_gsi}/dummybasedir

